<?php

/**
 *	_task auto-generated by awareness.
 */

class _task extends _obj
{
	public function __construct()
	{
		parent::__construct( '_task' );
		$this->log_chan( '_task' )->log_lvl( 'error' );
	}

	public function get_tasks_by__mem_id( $_mem_id, int $task_status = 0 ) : array|bool
	{
		$tasks = $this->get_by_col([ 'fk__mem_id' => $_mem_id, '_task_status' => $task_status ], TRUE );
		if( FALSE === $tasks )
		{
			$this->fail( $this->get_error_msg() );
			return FALSE;
		}

		$this->success( 'tasks_fetched_by__mem_id' );
		return $tasks;
	}

	public function save_task( array $vars ) : array|bool
	{
		$task = parent::save( $vars );
		if( FALSE === $task )
		{
			$this->fail();
			return FALSE;
		}

		$this->success( 'task_saved' );
		return $task;
	}
}
